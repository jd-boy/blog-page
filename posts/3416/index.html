<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="JD">
    
    <title>
        
            CDN 原理 |
        
        Bean You
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/favicon.png">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"jzcupid.cn","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":false,"init_open":false},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.svg","favicon":"/images/favicon.png","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"莫听穿林打叶声，何妨吟啸且徐行。"},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":true}}},"local_search":{"enable":true,"trigger":"auto","preload":true},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Bean You
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                分类
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                标签
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">分类</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">标签</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">CDN 原理</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.svg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">JD</span>
                        
                            <span class="author-label">Lv6</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2023-02-06 14:56:56
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>&nbsp;
                    </li>
                
                    <li>
                        &gt; <a href="/categories/%E8%BF%90%E7%BB%B4/Linux/">Linux</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h2 id="CDN-概述"><a href="#CDN-概述" class="headerlink" title="CDN 概述"></a>CDN 概述</h2><p>CDN 全称 Content Delivery Network，即内容分发网络。其基本思路是尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快、更稳定。</p>
<p>CDN 的工作原理 就是将源站的资源缓存CDN各个节点上，当请求命中了某个节点的资源缓存时，立即返回客户端，避免每个请求的资源都通过源站获取，避免网络拥塞、缓解源站压力，保证用户访问资源的速度和体验。</p>
<p>举一个生活中的例子，我们在某东上购买商品，快递能做到当日送达，其根本原理是通过在全国各地建设本地仓库。当用户购买商品时，通过智能仓配模式，为消费者选择就近仓库发货，从而缩短物流配送时间。</p>
<p><img src="../../imgs/Linux/2.png" alt="img"></p>
<p>而商品库存的分配，流程可以参考下图，从 工厂(源站) -&gt; 地域仓库(二级缓存) -&gt; 本地仓库 (一级缓存)</p>
<p><img src="../../imgs/Linux/3.png" alt="img"></p>
<p>内容分发网络就像前面提到的智能仓配网络 一样，解决了因分布、带宽、服务器性能带来的访问延迟问题，适用于站点加速、点播、直播等场景。使用户可就近取得所需内容，解决 Internet网络拥挤的状况，提高用户访问网站的响应速度和成功率。</p>
<p><img src="../../imgs/Linux/4.png" alt="img"></p>
<h2 id="CDN的诞生"><a href="#CDN的诞生" class="headerlink" title="CDN的诞生"></a>CDN的诞生</h2><p><img src="../../imgs/Linux/5.png" alt="img"></p>
<p>CDN 诞生于二十多年前，为解决内容源服务器和传输骨干网络压力过大的问题，在 1995 年，麻省理工学院教授，互联网发明者之一 Tom Leighton 带领着研究生 Danny Lewin 和其他几位顶级研究人员一起尝试用数学问题解决网络拥堵问题。</p>
<p>他们使用数学算法，处理内容的动态路由安排，并最终解决了困扰 Internet 使用者的难题。后来，史隆管理学院的 MBA 学生 Jonathan Seelig 加入了 Leighton 的队伍中，从那以后他们开始实施自己的商业计划，最终于 1998 年 8 月 20 日正式成立公司，命名为 Akamai。Akamai 公司通过智能化的互联网分发，结束了 “World Wide Wait” 的尴尬局面。</p>
<p>同年 1998 年，中国第一家 CDN 公司 ChinaCache 成立</p>
<h2 id="CDN工作原理"><a href="#CDN工作原理" class="headerlink" title="CDN工作原理"></a>CDN工作原理</h2><h3 id="接入CDN"><a href="#接入CDN" class="headerlink" title="接入CDN"></a>接入CDN</h3><p>在接入CDN前，当我们访问某个域名,直接拿到第一个真实服务器的IP地址，整个流程如下(图有点简陋)：</p>
<p><img src="../../imgs/Linux/6.png" alt="img"></p>
<p>当我们需要加速网站时，通过向运营商注册自己加速域名，源站域名，然后进入到自己域名的DNS配置信息，将 A 记录修改成 CNAME 记录即可。阿里云加速申请参考如下：</p>
<p><img src="../../imgs/Linux/7.png" alt="img"></p>
<h3 id="CDN访问过程"><a href="#CDN访问过程" class="headerlink" title="CDN访问过程"></a>CDN访问过程</h3><p><img src="../../imgs/Linux/8.png" alt="img"></p>
<p>1、用户访问图片内容，先经过 本地DNS 解析，如果 LDNS 命中，直接返回给用户。</p>
<p>2、LDNS MISS，转发 授权DNS 查询</p>
<p>3、返回域名 CNAME picwebws.pstatp.com.wsglb0.com. 对应IP地址(实际就是DNS调度系统的ip地址)</p>
<p>4、域名解析请求发送至DNS调度系统，DNS调度系统为请求分配最佳节点IP地址。</p>
<p>5、返回的解析IP地址</p>
<p>6、用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端。</p>
<p>图：华为云全站加速示意图</p>
<p><img src="../../imgs/Linux/9.png" alt="img"></p>
<h2 id="CDN解决了什么问题"><a href="#CDN解决了什么问题" class="headerlink" title="CDN解决了什么问题"></a>CDN解决了什么问题</h2><h3 id="骨干网压力过大"><a href="#骨干网压力过大" class="headerlink" title="骨干网压力过大"></a>骨干网压力过大</h3><p>Tom Leighton在 1995 年， 带领团队尝试用数学问题解决网络拥堵问题，从而解决骨干网络压力过大的问题。由于上网冲浪 的少年越来越多，造成骨干网的核心节点流量吞吐不足以支撑互联网用户的增长，通过CDN可以避免用户流量流经骨干网。</p>
<p>骨干网是一个全球性的局域网,一级互联网服务提供商(ISP)将其高速光纤网络连接在一起，形成互联网的骨干网，实现在不同地理区域之间高效地传输流量。</p>
<p><strong>1、局域网</strong></p>
<p>局域网(Local Area Network，LAN)是指在某一区域内由多台计算机互联成的计算机组，比如：在大学时期，晚上12点后断网了，我们仍然能够通过路由器开黑打CS，魔兽。那就是基于局域网互联，实现资料共享与信息之间的通信。</p>
<p><img src="../../imgs/Linux/10.png" alt="img"></p>
<p><strong>2、骨干网</strong></p>
<p>这里引用一下中国电信全网架构，骨干网可以理解成是一个全国性的局域网，通过核心节点的流量互通，实现全网网络的互通。这也是为什么我们称为互联网 的原因。</p>
<p>北京、上海、广州，是ChinaNet的超级核心。除了超级核心之外，ChinaNet还有天津、西安、南京、杭州、武汉、成都等普通核心。</p>
<p><img src="../../imgs/Linux/11.png" alt="img"></p>
<h3 id="三公里之-middlemile"><a href="#三公里之-middlemile" class="headerlink" title="三公里之 middlemile"></a>三公里之 middlemile</h3><p>通常网络访问中会有”三公里”路程</p>
<ul>
<li>第一公里为:源站到ISP接入点</li>
<li>第二公里为:源站ISP接入点到访问用户的ISP接入点</li>
<li>第三公里(最后一公里)为:用户ISP接入点到用户客户端</li>
</ul>
<p>CDN网络层主要用来加速第二公里(middlemile),</p>
<p>在 CDN 的基础架构中，通常使用两级 server 做加速：</p>
<ul>
<li>L1(下层)：距离用户(或俗称网民)越近越好，通常用于缓存那些可缓存的静态数据，称之为 lastmile(最后一公里)。</li>
<li>L2(上层)：距离源站越近越好，称之为 firstmile(第一公里)，当 L1 无法命中缓存，或内容不可缓存时，请求会通过 L1 透传给 L2，若 L2 仍然没有命中缓存或内容不可缓存，则会继续透传给 L2 的 upstream(有可能是源站，也有可能是 L3)，同时 L2 还可以做流量、请求数的量级收敛，减少回源量(如果可缓存)，降低源站压力。</li>
<li>L1 和 L2 之间的部分，是 CDN 的 ”内部网络“，称之为 middlemile(中间一公里)。</li>
</ul>
<p><img src="../../imgs/Linux/12.png" alt="img"></p>
<h2 id="CDN的组成"><a href="#CDN的组成" class="headerlink" title="CDN的组成"></a>CDN的组成</h2><p>全局负载均衡系统 GLB(Global Load Balance)</p>
<p><img src="../../imgs/Linux/13.png" alt="img"></p>
<ul>
<li>当用户访问加入CDN服务的网站时，域名解析请求将最终由 “智能调度DNS”负责处理。</li>
<li>它通过一组预先定义好的策略，将当时最接近用户的节点地址提供给用户，使用户可以得到快速的服务。</li>
<li>同时它需要与分布在各地的CDN节点保持通信，跟踪各节点的健康状态、容量等信息，确保将用户的请求分配到就近可用的节点上.</li>
</ul>
<h3 id="缓存服务器"><a href="#缓存服务器" class="headerlink" title="缓存服务器"></a>缓存服务器</h3><p>缓存服务器主要的功能就是缓存热点数据，数据类型包括：静态资源(html,js,css等)，多媒体资源(img,mp3,mp4等)，以及动态数据(边缘渲染)等。</p>
<p>众所周知耳熟能详的与 CDN 有关的开源软件有：</p>
<ul>
<li>Squid</li>
<li>Varnish</li>
<li>Nginx</li>
<li>OpenResty</li>
<li>ATS</li>
<li>HAProxy</li>
</ul>
<p>具体对比可参考：<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/joeyon1985/article/details/46573281" >https://blog.csdn.net/joeyon1985/article/details/46573281<i class="fas fa-external-link-alt"></i></a></p>
<p>CDN的分层架构</p>
<p><img src="../../imgs/Linux/14.png" alt="img"></p>
<h3 id="源站"><a href="#源站" class="headerlink" title="源站"></a>源站</h3><p>源站指发布内容的原始站点。添加、删除和更改网站的文件，都是在源站上进行的;另外缓存服务器所抓取的对象也全部来自于源站。</p>
<h2 id="CDN-调度策略"><a href="#CDN-调度策略" class="headerlink" title="CDN 调度策略"></a>CDN 调度策略</h2><h3 id="DNS-调度"><a href="#DNS-调度" class="headerlink" title="DNS 调度"></a>DNS 调度</h3><p>基于请求端 local DNS 的出口 IP 归属地以及运营商的 DNS 调度。</p>
<p>DNS 调度的问题：</p>
<ul>
<li>DNS 缓存时间在 TTL 过期前是不会刷新的， 这样会导致节点异常的时候自动调度延时很大，会直接影响线上业务访问。</li>
<li>大量的 local DNS 不支持 EDNS 协议，拿不到客户的真实IP，CDN 绝大多数时候只能通过local DNS IP来做决策，经常会出现跨区域调度的情况。</li>
</ul>
<h3 id="HTTP-DNS-调度"><a href="#HTTP-DNS-调度" class="headerlink" title="HTTP DNS 调度"></a>HTTP DNS 调度</h3><p>客户端请求固定的 HTTP DNS 地址，根据返回获取解析结果。可以提高解析的准确性(不像DNS调度，只能通过local DNS IP来做决策)，能很好的避免劫持等问题。</p>
<p>当然这种模式也有一些问题，例如客户端每次加载URL都可能产生一次HTTP DNS查询，这就对性能和网络接入要求很高。</p>
<h3 id="302调度"><a href="#302调度" class="headerlink" title="302调度"></a>302调度</h3><p>基于客户端 IP 和 302 调度集群进行实时的流量调度。</p>
<p>我们来看一个例子：</p>
<ul>
<li>访问 URL 链接后，此时请求到了调度群集上，我们能拿到的客户端信息有 客户端的出口IP(绝大多情况下是相同的)，接下来算法和基于 DNS 的调度可以是一样的，只是判断依据由 local DNS 出口 ip 变成了客户端的出口IP。</li>
<li>浏览器收到302回应，跟随 Location 中的 URL，继续发起 http 请求，这次请求的目标 IP 是CDN 边缘节点，CDN节点会响应实际的文件内容。</li>
</ul>
<p>302 调度的优势：</p>
<ul>
<li>实时调度，因为没有 local DNS 缓存的，适合 CDN 的削峰处理，对于成本控制意义重大;</li>
<li>准确性高，直接获取客户端出口 IP 进行调度。</li>
</ul>
<p>302 调度的劣势：</p>
<ul>
<li>每次都要跳转，对于延时敏感的业务不友好。一般只适用于大文件。</li>
</ul>
<h3 id="AnyCast-BGP路由调度"><a href="#AnyCast-BGP路由调度" class="headerlink" title="AnyCast BGP路由调度"></a>AnyCast BGP路由调度</h3><p>基于 BGP AnyCast 路由策略，只提供极少的对外 IP，路由策略可以很快的调整。</p>
<p>目前 AWS CloudFront、CloudFlare 都使用了这种方式，在路由层面进行调度。</p>
<p>这种方式可以很好地抵御 DDOS 攻击，降低网络拥塞。</p>
<p>当然这种方式的成本和方案设计都比较复杂，所以国内的 CDN 目前还都是用 UniCast 的方式。</p>
<h2 id="一些概念"><a href="#一些概念" class="headerlink" title="一些概念"></a>一些概念</h2><h3 id="CDN运作原理"><a href="#CDN运作原理" class="headerlink" title="CDN运作原理"></a>CDN运作原理</h3><p>本地缓存的数据，通过key-value 的形式，将url 和本地缓存进行映射,存储结构与 Map相似，采用 hash+链表形式进行缓存。</p>
<p><img src="../../imgs/Linux/15.png" alt="img"></p>
<h3 id="CDN命中率"><a href="#CDN命中率" class="headerlink" title="CDN命中率"></a>CDN命中率</h3><p>衡量我们CDN服务质量的一个核心标准，当用户访问的资源恰好在缓存系统里，可以直接返回给用户，说明CDN命中;如果CDN缓存中，没有命中资源，那么会触发回源动作。</p>
<h3 id="CDN回源"><a href="#CDN回源" class="headerlink" title="CDN回源"></a>CDN回源</h3><p>当CDN本地缓存没有命中时，触发回源动作,</p>
<ul>
<li>一级缓存 访问二级缓存是否有相关数据，如果有，返回一级缓存。</li>
<li>二级缓存 Miss，触发 二级缓存 回源请求，请求源站对应数据。获取结果后，缓存到本地缓存，返回数据到一级缓存。</li>
<li>一级缓存 获取数据，缓存本地后，返回给用户。</li>
</ul>
<h3 id="CDN预热数据"><a href="#CDN预热数据" class="headerlink" title="CDN预热数据"></a>CDN预热数据</h3><p>上面说的访问模式，都是基于Pull模式，由用户决策哪部分热点数据会最终存留在CDN缓存中;对于大促场景，我们往往需要预先将活动相关资源预热 到 边缘节点(L1),避免大促开启后，大量用户访问，造成源站压力过大。这时候采用的是 Push模式。</p>
<h3 id="CDN的特点总结"><a href="#CDN的特点总结" class="headerlink" title="CDN的特点总结"></a>CDN的特点总结</h3><p>1、资源访问加速: 本地Cache加速，提高了企业站点(尤其含有大量图片和静态页面站点)的访问速度，并大大提高以上性质站点的稳定性</p>
<p>2、消除运营商间网络互联的瓶颈问题: 镜像服务消除了不同运营商之间互联的瓶颈造成的影响，实现了跨运营商的网络加速，保证不同网络中的用户都能得到良好的访问质量。</p>
<p>3、远程加速: 远程访问用户根据DNS负载均衡技术 智能自动选择Cache服务器，选择最快的Cache服务器，加快远程访问的速度</p>
<p>4、带宽优化: 自动生成服务器的远程Mirror(镜像)cache服务器，远程用户访问时从cache服务器上读取数据，减少远程访问的带宽、分担网络流量、减轻原站点WEB服务器负载等功能。</p>
<p>5、集群抗攻击: 广泛分布的CDN节点加上节点之间的智能冗余机制，可以有效地预防黑客入侵以及降低各种D.D.o.S攻击对网站的影响，同时保证较好的服务质量 。</p>

        </div>

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/posts/1487/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">A记录和CNAME记录的区别</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/posts/43133/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">两线程交替顺序打印1-100</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2021</span>
              -
            
            2024&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">JD</a>
        </div>
        
            <script async  src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.3</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#CDN-%E6%A6%82%E8%BF%B0"><span class="nav-text">CDN 概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CDN%E7%9A%84%E8%AF%9E%E7%94%9F"><span class="nav-text">CDN的诞生</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CDN%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="nav-text">CDN工作原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E5%85%A5CDN"><span class="nav-text">接入CDN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CDN%E8%AE%BF%E9%97%AE%E8%BF%87%E7%A8%8B"><span class="nav-text">CDN访问过程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CDN%E8%A7%A3%E5%86%B3%E4%BA%86%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98"><span class="nav-text">CDN解决了什么问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%AA%A8%E5%B9%B2%E7%BD%91%E5%8E%8B%E5%8A%9B%E8%BF%87%E5%A4%A7"><span class="nav-text">骨干网压力过大</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E5%85%AC%E9%87%8C%E4%B9%8B-middlemile"><span class="nav-text">三公里之 middlemile</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CDN%E7%9A%84%E7%BB%84%E6%88%90"><span class="nav-text">CDN的组成</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%93%E5%AD%98%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-text">缓存服务器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BA%90%E7%AB%99"><span class="nav-text">源站</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CDN-%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5"><span class="nav-text">CDN 调度策略</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS-%E8%B0%83%E5%BA%A6"><span class="nav-text">DNS 调度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-DNS-%E8%B0%83%E5%BA%A6"><span class="nav-text">HTTP DNS 调度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#302%E8%B0%83%E5%BA%A6"><span class="nav-text">302调度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AnyCast-BGP%E8%B7%AF%E7%94%B1%E8%B0%83%E5%BA%A6"><span class="nav-text">AnyCast BGP路由调度</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E6%A6%82%E5%BF%B5"><span class="nav-text">一些概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CDN%E8%BF%90%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="nav-text">CDN运作原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CDN%E5%91%BD%E4%B8%AD%E7%8E%87"><span class="nav-text">CDN命中率</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CDN%E5%9B%9E%E6%BA%90"><span class="nav-text">CDN回源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CDN%E9%A2%84%E7%83%AD%E6%95%B0%E6%8D%AE"><span class="nav-text">CDN预热数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CDN%E7%9A%84%E7%89%B9%E7%82%B9%E6%80%BB%E7%BB%93"><span class="nav-text">CDN的特点总结</span></a></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>



    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-copy.js"></script>





<div class="post-scripts">
    
        
<script src="/js/left-side-toggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/toc.js"></script>

    
</div>



</body>
</html>
